# EchoTune AI Production Environment Configuration
# Optimized for quick deployment with SSL and security hardening
# Copy this to .env and update with your actual values

# =============================================================================
# üöÄ QUICK DEPLOYMENT SETTINGS
# =============================================================================

# Domain Configuration (REQUIRED for production)
DOMAIN=primosphere.studio
FRONTEND_URL=https://primosphere.studio
NODE_ENV=production
PORT=3000

# Spotify API Configuration (REQUIRED)
SPOTIFY_CLIENT_ID=dcc2df507bde447c93a0199358ca219d
SPOTIFY_CLIENT_SECRET=128089720b414d1e8233290d94fb38a0
SPOTIFY_REDIRECT_URI=http://localhost:3000/callback
SPOTIFY_PRODUCTION_REDIRECT_URI=http://159.223.207.187:3000/

# Spotify Login Credentials (for testing)
# Username: willexmen
# Password: shougang##

# =============================================================================
# üîí ENHANCED SECURITY CONFIGURATION
# =============================================================================

# Security Secrets (GENERATE NEW IN PRODUCTION)
SESSION_SECRET=8bc7ed90aa90543fb9f1bfuehhgfrrt8bc7ed90aa90543fb9f1bfuehhgfrrt
JWT_SECRET=8bc7ed90aa90543fb9f1bfuehhgfrrt8bc7ed90aa90543fb9f1bfuehhgfrrt

# SSL/TLS Configuration
SSL_CERT_PATH=/etc/nginx/ssl/primosphere.studio.crt
SSL_KEY_PATH=/etc/nginx/ssl/primosphere.studio.key
LETSENCRYPT_EMAIL=admin@primosphere.studio
ENABLE_HSTS=true
FORCE_HTTPS=true

# Enhanced Security Headers
ENABLE_SECURITY_HEADERS=true
CSP_ENABLED=true
CSP_REPORT_ONLY=false

# =============================================================================
# üöÑ PERFORMANCE & OPTIMIZATION
# =============================================================================

# Rate Limiting (requests per time window)
API_RATE_LIMIT=10r/s
AUTH_RATE_LIMIT=5r/m
GENERAL_RATE_LIMIT=20r/s
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Request & Response Optimization
MAX_REQUEST_SIZE=10mb
COMPRESSION=true
GZIP_ENABLED=true
KEEP_ALIVE_TIMEOUT=65000
HEADERS_TIMEOUT=66000

# Caching Configuration
CACHE_ENABLED=true
CACHE_TTL=3600
SPOTIFY_API_CACHE_TTL=300
STATIC_CACHE_TTL=86400

# =============================================================================
# üóÑÔ∏è DATABASE CONFIGURATION
# =============================================================================

# MongoDB (Primary database for analytics and ML)
MONGODB_URI=mongodb+srv://copilot:DapperMan77@cluster0.ofnyuy.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0
MONGODB_DB_NAME=echotune
MONGODB_DATABASE=echotune
MONGODB_ROOT_USER=admin
MONGODB_ROOT_PASSWORD=secure_mongodb_password_change_this

# Redis (Caching and session storage)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=secure_redis_password_change_this

# Database Fallback
DATABASE_TYPE=mongodb
ENABLE_SQLITE_FALLBACK=true

# =============================================================================
# ü§ñ AI & LLM PROVIDER CONFIGURATION
# =============================================================================

# Default AI Provider (mock works without API keys)
DEFAULT_LLM_PROVIDER=mock
DEFAULT_LLM_MODEL=mock-music-assistant

# Google Gemini (Recommended)
GEMINI_API_KEY=${GEMINI_API_KEY:-}
GEMINI_MODEL=gemini-1.5-flash
GEMINI_TEMPERATURE=0.7
GEMINI_MAX_TOKENS=4096

# OpenAI Configuration
OPENAI_API_KEY=${OPENAI_API_KEY:-}
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=4096

# Azure OpenAI Configuration
AZURE_OPENAI_API_KEY=${AZURE_OPENAI_API_KEY:-}
AZURE_OPENAI_ENDPOINT=${AZURE_OPENAI_ENDPOINT:-}
AZURE_OPENAI_DEPLOYMENT_NAME=${AZURE_OPENAI_DEPLOYMENT_NAME:-}

# =============================================================================
# üìä MONITORING & LOGGING
# =============================================================================

# Logging Configuration
LOG_LEVEL=info
LOG_FILE=/opt/echotune/logs/app.log
ACCESS_LOG_FILE=/opt/echotune/logs/access.log
ERROR_LOG_FILE=/opt/echotune/logs/error.log
LOG_ROTATION=daily
LOG_MAX_SIZE=100mb
LOG_MAX_FILES=7

# Health Monitoring
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000
METRICS_ENABLED=true
PERFORMANCE_MONITORING=true
UPTIME_MONITORING=true

# Application Monitoring
RESPONSE_TIME_THRESHOLD=5000
CPU_THRESHOLD=80
MEMORY_THRESHOLD=85
DISK_THRESHOLD=90

# External Monitoring (Optional)
SENTRY_DSN=${SENTRY_DSN:-}
GOOGLE_ANALYTICS_ID=${GOOGLE_ANALYTICS_ID:-}

# =============================================================================
# üåê NETWORK & PROXY CONFIGURATION
# =============================================================================

# Proxy Settings
TRUST_PROXY=true
PROXY_TIMEOUT=30000
BEHIND_REVERSE_PROXY=true

# CORS Configuration
ENABLE_CORS=true
CORS_ORIGINS=https://primosphere.studio,https://www.primosphere.studio
CORS_CREDENTIALS=true

# WebSocket Configuration
WEBSOCKET_ENABLED=true
WEBSOCKET_PATH=/socket.io
WEBSOCKET_TRANSPORTS=websocket,polling

# =============================================================================
# üéµ MUSIC & SPOTIFY FEATURES
# =============================================================================

# Spotify API Settings
SPOTIFY_MARKET=US
SPOTIFY_LOCALE=en_US
SPOTIFY_SCOPES=user-read-private,user-read-email,user-top-read,user-read-recently-played,playlist-read-private,playlist-read-collaborative,playlist-modify-public,playlist-modify-private

# Music Features
ENABLE_RECOMMENDATIONS=true
ENABLE_PLAYLIST_CREATION=true
ENABLE_USER_ANALYTICS=true
ENABLE_CHAT_HISTORY=true
ENABLE_AI_FEATURES=true
ENABLE_VOICE_INTERFACE=true

# Audio Analysis
ENABLE_AUDIO_FEATURES=true
AUDIO_FEATURE_CACHE_TTL=86400
SPOTIFY_SEARCH_LIMIT=50

# =============================================================================
# üìß NOTIFICATIONS & ALERTS
# =============================================================================

# Email Configuration
SMTP_HOST=${SMTP_HOST:-smtp.gmail.com}
SMTP_PORT=${SMTP_PORT:-587}
SMTP_SECURE=false
SMTP_USER=${SMTP_USER:-}
SMTP_PASS=${SMTP_PASS:-}
FROM_EMAIL=noreply@primosphere.studio

# Alert Configuration
ALERT_EMAIL=admin@primosphere.studio
SLACK_WEBHOOK=${SLACK_WEBHOOK:-}
DISCORD_WEBHOOK=${DISCORD_WEBHOOK:-}

# =============================================================================
# üîß DEVELOPMENT & DEBUGGING (Disable in production)
# =============================================================================

# Debug Settings (MUST be false in production)
DEBUG=false
VERBOSE_LOGGING=false
ENABLE_PROFILING=false
SOURCE_MAPS=false

# Development Features (Disable in production)
HOT_RELOAD=false
MOCK_EXTERNAL_APIS=false
BYPASS_AUTH=false

# =============================================================================
# üöÄ CONTAINER & DEPLOYMENT CONFIGURATION
# =============================================================================

# Docker Configuration
DOCKER_NETWORK=echotune-network
CONTAINER_RESTART_POLICY=unless-stopped
CONTAINER_MEMORY_LIMIT=1g
CONTAINER_CPU_LIMIT=1.0

# Load Balancer & Clustering
CLUSTER_MODE=false
WORKERS=auto
PM2_ENABLED=false

# File Upload Configuration
UPLOAD_MAX_SIZE=50mb
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,audio/mpeg,audio/wav,application/json
UPLOAD_PATH=/opt/echotune/uploads

# =============================================================================
# üõ°Ô∏è ADVANCED SECURITY CONFIGURATION
# =============================================================================

# Session Configuration
SESSION_COOKIE_MAX_AGE=86400000
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTP_ONLY=true
SESSION_COOKIE_SAME_SITE=strict

# API Security
API_KEY_HEADER=X-API-Key
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d
BCRYPT_ROUNDS=12

# Rate Limiting Per User
USER_RATE_LIMIT_WINDOW_MS=3600000
USER_RATE_LIMIT_MAX_REQUESTS=1000
IP_WHITELIST=${IP_WHITELIST:-}
IP_BLACKLIST=${IP_BLACKLIST:-}

# =============================================================================
# üíæ BACKUP & MAINTENANCE CONFIGURATION
# =============================================================================

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESSION=true
BACKUP_PATH=/opt/echotune/backups

# Remote Backup (Optional)
REMOTE_BACKUP=false
AWS_S3_BUCKET=${AWS_S3_BUCKET:-}
AWS_REGION=${AWS_REGION:-us-east-1}
AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID:-}
AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY:-}

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="EchoTune AI is temporarily unavailable for maintenance. Please try again shortly."

# =============================================================================
# üè∑Ô∏è FEATURE FLAGS & EXPERIMENTAL FEATURES
# =============================================================================

# Core Features
FEATURE_CHAT=true
FEATURE_RECOMMENDATIONS=true
FEATURE_PLAYLISTS=true
FEATURE_ANALYTICS=true
FEATURE_USER_PROFILES=true

# Experimental Features
FEATURE_VOICE_COMMANDS=false
FEATURE_SOCIAL_SHARING=false
FEATURE_COLLABORATIVE_PLAYLISTS=false
FEATURE_MOOD_DETECTION=false
FEATURE_MULTI_LANGUAGE=false

# A/B Testing
AB_TESTING_ENABLED=false
AB_TEST_PERCENTAGE=10

# =============================================================================
# üì± MOBILE & PWA CONFIGURATION
# =============================================================================

# Progressive Web App
PWA_ENABLED=true
PWA_NAME="EchoTune AI"
PWA_SHORT_NAME="EchoTune"
PWA_DESCRIPTION="AI-Powered Music Discovery Platform"
PWA_THEME_COLOR="#00d4aa"
PWA_BACKGROUND_COLOR="#1a1a1a"

# Mobile Optimization
MOBILE_OPTIMIZED=true
TOUCH_GESTURES=true
MOBILE_CACHE_SIZE=50mb

# =============================================================================
# üé® UI/UX CONFIGURATION
# =============================================================================

# Theme Configuration
DEFAULT_THEME=dark
ENABLE_THEME_SWITCHING=true
CUSTOM_BRANDING=true

# Animation & Performance
ENABLE_ANIMATIONS=true
ANIMATION_DURATION=300
REDUCE_MOTION_SUPPORT=true
LAZY_LOADING=true

# =============================================================================
# üìà ANALYTICS & TRACKING
# =============================================================================

# User Analytics
USER_ANALYTICS=true
ANONYMOUS_ANALYTICS=true
GDPR_COMPLIANT=true
COOKIE_CONSENT=true

# Performance Analytics
PERFORMANCE_TRACKING=true
ERROR_TRACKING=true
USER_BEHAVIOR_TRACKING=false

# =============================================================================
# üåç INTERNATIONALIZATION & LOCALIZATION
# =============================================================================

# Language Settings
DEFAULT_LOCALE=en-US
SUPPORTED_LOCALES=en-US,es-ES,fr-FR,de-DE
TIMEZONE=UTC
DATE_FORMAT=YYYY-MM-DD
TIME_FORMAT=HH:mm:ss

# =============================================================================
# üö® PRODUCTION DEPLOYMENT CHECKLIST
# =============================================================================

# [ ] All secrets have been changed from defaults
# [ ] SSL certificates are properly configured
# [ ] Database credentials are environment-specific  
# [ ] CORS origins are restricted to production domains
# [ ] Rate limiting is appropriately configured
# [ ] Debug mode is disabled (DEBUG=false)
# [ ] Monitoring and alerting are set up
# [ ] Backup procedures are configured and tested
# [ ] Firewall allows only necessary ports (80, 443, 22)
# [ ] Log files are configured for rotation
# [ ] Health checks are enabled and responding
# [ ] Performance monitoring is active
# [ ] Security headers are enabled
# [ ] HTTPS redirect is working
# [ ] Domain DNS is properly configured

# =============================================================================
# üí° QUICK DEPLOYMENT COMMANDS
# =============================================================================

# Docker Deployment:
# docker-compose up -d --build

# Native Deployment:
# ./deploy-universal.sh --production --domain primosphere.studio --email admin@primosphere.studio

# Health Check:
# curl https://primosphere.studio/health

# View Logs:
# docker-compose logs -f app
# sudo journalctl -u echotune-ai -f

# =============================================================================
# üîó USEFUL LINKS
# =============================================================================

# GitHub Repository: https://github.com/dzp5103/Spotify-echo
# Documentation: https://github.com/dzp5103/Spotify-echo#readme
# Issues: https://github.com/dzp5103/Spotify-echo/issues
# Spotify Developer: https://developer.spotify.com/dashboard
# Let's Encrypt: https://letsencrypt.org/
# SSL Test: https://www.ssllabs.com/ssltest/

# =============================================================================
# üåä DIGITALOCEAN CONFIGURATION
# =============================================================================

# DigitalOcean API Tokens (Full Access)
DIGITALOCEAN_TOKEN=dop_v1_2a14cbf62df8a24bfd0ed6094e0bdf775999188d1f11324be47c39a308282238
DIGITALOCEAN_TOKEN_FALLBACK=dop_v1_9359807c1cd4103b5c92b21971a51d5364dc300d195ae5046639f3b0cd3dbe16

# DigitalOcean Container Registry
DO_REGISTRY_USERNAME=barrunmail@gmail.com
DO_REGISTRY_TOKEN=dop_v1_be1d6c7989e8f51fefbae284c017fa7eaeea5d230e59d7c399b220d4677652c7

# DigitalOcean App Configuration
DO_APP_NAME=echotune-ai
DO_REGION=nyc1

# OAuth Callback URLs (configured in DO OAuth app)
OAUTH_CALLBACK_LOCAL=http://localhost:3000/callback
OAUTH_CALLBACK_PRODUCTION=http://159.223.207.187:3000/
