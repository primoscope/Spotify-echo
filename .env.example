# EchoTune AI - Environment Configuration
# Copy to .env and configure values

# ============================================================================
# REQUIRED - Application will not start without these
# ============================================================================
JWT_SECRET=your-secret-here-change-in-production
MONGODB_URI=mongodb://localhost:27017/echotune_ai

# ============================================================================  
# RECOMMENDED - Important for production deployment
# ============================================================================
NODE_ENV=development
PORT=3000
REDIS_URL=redis://localhost:6379
SESSION_SECRET=your-session-secret-here-change-in-production

# ============================================================================
# FEATURE FLAGS - Control application behavior  
# ============================================================================
DISABLE_REALTIME=false
ENABLE_TRACING=true
ENABLE_AGENTOPS=false

# ============================================================================
# SPOTIFY INTEGRATION - Required for music features
# ============================================================================
SPOTIFY_CLIENT_ID=your_spotify_client_id
SPOTIFY_CLIENT_SECRET=your_spotify_client_secret
SPOTIFY_REDIRECT_URI=http://localhost:3000/auth/callback

# ============================================================================
# AI PROVIDERS - Enable advanced AI features when provided
# ============================================================================
OPENAI_API_KEY=
GEMINI_API_KEY=
ANTHROPIC_API_KEY=
PERPLEXITY_API_KEY=
XAI_API_KEY=
OPENROUTER_API_KEY=

# AI Provider Configuration
LLM_PROVIDER=auto
GEMINI_MODEL=gemini-2.5-pro
GEMINI_MODEL_FALLBACK=gemini-1.5-flash

# Recommended: Use Vertex AI for Gemini integration
# Provides unified GCP billing, enterprise-grade security, and consistent performance.
# Requires GCP_PROJECT_ID and appropriate authentication to be configured.
GEMINI_USE_VERTEX=true
GEMINI_SAFETY_MODE=BLOCK_MEDIUM_AND_ABOVE
GEMINI_RESPONSE_FORMAT=text
GEMINI_FUNCTION_CALLING_ENABLED=false
GEMINI_CODE_ASSIST_ENABLED=false
GEMINI_CACHE_TTL_MS=600000

ANTHROPIC_MODEL=claude-3-5-sonnet-20241022
OPUS_EXTENDED_THINKING_DEFAULT_BUDGET=10000
OPUS_MAX_THINKING_BUDGET=32000
OPUS_FUNCTION_CALLING_ENABLED=false

VERTEX_MODEL=text-bison@latest

# Multi-provider routing
AI_ROUTING_STRATEGY=balanced
AI_FALLBACK_ENABLED=true
AI_COST_OPTIMIZATION=true
AI_DISABLE_MOCK_IN_PROD=true
AI_ALLOW_MOCK_IN_PROD=false

# ============================================================================
# DEPLOYMENT & HOSTING
# ============================================================================
DOMAIN=localhost
FRONTEND_URL=http://localhost:3000

# ============================================================================
# PERFORMANCE & MONITORING - Optional configuration
# ============================================================================
LOG_LEVEL=info
COMPRESSION=true
ENABLE_ANALYTICS_DASHBOARD=false
ENABLE_DEMO_ROUTES=0
CACHE_TTL=3600
RATE_LIMIT_MAX=100
SSL_ENABLED=false

# ============================================================================
# OBSERVABILITY - Optional telemetry and monitoring
# ============================================================================
AGENTOPS_API_KEY=

# ============================================================================
# GOOGLE CLOUD / VERTEX AI - For AI/ML features integration
# ============================================================================
# Temporary bootstrap service account key (base64 encoded)
# Required roles: roles/owner or custom role with iam.serviceAccounts.*, 
# iam.workloadIdentityPoolAdmin, aiplatform.admin, storage.admin, serviceusage.services.enable
GCP_BOOTSTRAP_SA_KEY=

# Production Vertex AI configuration (set after bootstrap)
GCP_PROJECT_ID=your-project-id
GCP_PROJECT_NUMBER=
WORKLOAD_IDENTITY_PROVIDER=
GCP_SERVICE_ACCOUNT=
GCP_VERTEX_BUCKET=

# Vertex AI Phase 2 Configuration
GCP_VERTEX_LOCATION=us-central1
VERTEX_PRIMARY_TEXT_MODEL=text-bison@latest
VERTEX_EMBED_MODEL=textembedding-gecko@latest
VERTEX_RECOMMENDER_MODEL=text-bison@latest
AI_PRICING_TABLE_PATH=config/ai/pricing.json
VERTEX_REGISTRY_PATH=config/ai/vertex_registry.json

# AI Service Configuration
AI_CIRCUIT_BREAKER_ENABLED=true
AI_RETRY_MAX_ATTEMPTS=3
AI_RETRY_BASE_DELAY=1000
AI_TIMEOUT_MS=30000
AI_ENABLE_COST_TRACKING=true
AI_ENABLE_METRICS=true

# Vertex AI Endpoint Configuration  
VERTEX_ENDPOINT_TIMEOUT=1800
VERTEX_MIN_REPLICAS=1
VERTEX_MAX_REPLICAS=3
VERTEX_MACHINE_TYPE=n1-standard-2

# Development overrides
VERTEX_DEV_MIN_REPLICAS=0
VERTEX_DEV_MAX_REPLICAS=1
VERTEX_DEV_MACHINE_TYPE=n1-standard-1

# ============================================================================
# DEVELOPMENT ONLY - Not needed in production
# ============================================================================
BROWSERBASE_API_KEY=