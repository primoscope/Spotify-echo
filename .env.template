# EchoTune AI Production Environment Configuration
# Keep this file committed. Copy to `.env` and fill real values locally or in your secret manager.

# =============================================================================
# QUICK DEPLOYMENT SETTINGS
# =============================================================================
DOMAIN=primosphere.studio
FRONTEND_URL=https://primosphere.studio
NODE_ENV=production
PORT=3000

# =============================================================================
# SPOTIFY API CONFIGURATION
# =============================================================================
SPOTIFY_CLIENT_ID=CHANGE_ME_SPOTIFY_CLIENT_ID
SPOTIFY_CLIENT_SECRET=CHANGE_ME_SPOTIFY_CLIENT_SECRET
SPOTIFY_REDIRECT_URI=https://primosphere.studio/auth/callback
SPOTIFY_PRODUCTION_REDIRECT_URI=https://primosphere.studio/auth/callback

# =============================================================================
# SECURITY SECRETS
# =============================================================================
SESSION_SECRET=CHANGE_ME_RANDOM_64_CHARS
JWT_SECRET=CHANGE_ME_RANDOM_64_CHARS

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================
SSL_CERT_PATH=/etc/nginx/ssl/primosphere.studio.crt
SSL_KEY_PATH=/etc/nginx/ssl/primosphere.studio.key
LETSENCRYPT_EMAIL=admin@primosphere.studio
ENABLE_HSTS=true
FORCE_HTTPS=true

# =============================================================================
# SECURITY HEADERS
# =============================================================================
ENABLE_SECURITY_HEADERS=true
CSP_ENABLED=true
CSP_REPORT_ONLY=false

# =============================================================================
# PERFORMANCE & OPTIMIZATION
# =============================================================================
API_RATE_LIMIT=10r/s
AUTH_RATE_LIMIT=5r/m
GENERAL_RATE_LIMIT=20r/s
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
MAX_REQUEST_SIZE=10mb
COMPRESSION=true
GZIP_ENABLED=true
KEEP_ALIVE_TIMEOUT=65000
HEADERS_TIMEOUT=66000
CACHE_ENABLED=true
CACHE_TTL=3600
SPOTIFY_API_CACHE_TTL=300
STATIC_CACHE_TTL=86400

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# MongoDB
MONGODB_URI=mongodb+srv://copilot:DapperMan77@cluster0.ofnyuy.mongodb.net/echotune?retryWrites=true&w=majority&appName=Cluster0
MONGODB_DATABASE=echotune
MONGODB_ROOT_USER=CHANGE_ME_MONGO_ROOT_USER
MONGODB_ROOT_PASSWORD=CHANGE_ME_MONGO_ROOT_PASSWORD

# Redis
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD

# Fallback
DATABASE_TYPE=mongodb
ENABLE_SQLITE_FALLBACK=true

# =============================================================================
# AI & LLM PROVIDERS
# =============================================================================
DEFAULT_LLM_PROVIDER=gemini
DEFAULT_LLM_MODEL=gemini-2.0-flash

# Google Gemini
GEMINI_API_KEY=${GEMINI_API_KEY:-}
GEMINI_MODEL=gemini-2.0-flash
GEMINI_TEMPERATURE=0.7
GEMINI_MAX_TOKENS=4096

# OpenAI
OPENAI_API_KEY=${OPENAI_API_KEY:-}
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=4096

# Azure OpenAI
AZURE_OPENAI_API_KEY=${AZURE_OPENAI_API_KEY:-}
AZURE_OPENAI_ENDPOINT=${AZURE_OPENAI_ENDPOINT:-}
AZURE_OPENAI_DEPLOYMENT_NAME=${AZURE_OPENAI_DEPLOYMENT_NAME:-}

# OpenRouter (optional)
OPENROUTER_API_KEY=${OPENROUTER_API_KEY:-}

# =============================================================================
# MONITORING & LOGGING
# =============================================================================
LOG_LEVEL=info
LOG_FILE=/opt/echotune/logs/app.log
ACCESS_LOG_FILE=/opt/echotune/logs/access.log
ERROR_LOG_FILE=/opt/echotune/logs/error.log
LOG_ROTATION=daily
LOG_MAX_SIZE=100mb
LOG_MAX_FILES=7
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000
METRICS_ENABLED=true
PERFORMANCE_MONITORING=true
UPTIME_MONITORING=true
RESPONSE_TIME_THRESHOLD=5000
CPU_THRESHOLD=80
MEMORY_THRESHOLD=85
DISK_THRESHOLD=90
SENTRY_DSN=${SENTRY_DSN:-}
GOOGLE_ANALYTICS_ID=${GOOGLE_ANALYTICS_ID:-}

# =============================================================================
# NETWORK & PROXY
# =============================================================================
TRUST_PROXY=true
PROXY_TIMEOUT=30000
BEHIND_REVERSE_PROXY=true

# CORS
ENABLE_CORS=true
CORS_ORIGINS=https://primosphere.studio,https://www.primosphere.studio
CORS_CREDENTIALS=true

# WebSocket
WEBSOCKET_ENABLED=true
WEBSOCKET_PATH=/socket.io
WEBSOCKET_TRANSPORTS=websocket,polling

# =============================================================================
# SPOTIFY SETTINGS
# =============================================================================
SPOTIFY_MARKET=US
SPOTIFY_LOCALE=en_US
SPOTIFY_SCOPES=user-read-private,user-read-email,user-top-read,user-read-recently-played,playlist-read-private,playlist-read-collaborative,playlist-modify-public,playlist-modify-private

# =============================================================================
# FEATURES
# =============================================================================
ENABLE_RECOMMENDATIONS=true
ENABLE_PLAYLIST_CREATION=true
ENABLE_USER_ANALYTICS=true
ENABLE_CHAT_HISTORY=true
ENABLE_AI_FEATURES=true
ENABLE_VOICE_INTERFACE=true
ENABLE_AUDIO_FEATURES=true
AUDIO_FEATURE_CACHE_TTL=86400
SPOTIFY_SEARCH_LIMIT=50

# =============================================================================
# NOTIFICATIONS & ALERTS
# =============================================================================
SMTP_HOST=${SMTP_HOST:-smtp.gmail.com}
SMTP_PORT=${SMTP_PORT:-587}
SMTP_SECURE=false
SMTP_USER=${SMTP_USER:-}
SMTP_PASS=${SMTP_PASS:-}
FROM_EMAIL=noreply@primosphere.studio
ALERT_EMAIL=admin@primosphere.studio
SLACK_WEBHOOK=${SLACK_WEBHOOK:-}
DISCORD_WEBHOOK=${DISCORD_WEBHOOK:-}

# =============================================================================
# DEVELOPMENT & DEBUGGING
# =============================================================================
DEBUG=false
VERBOSE_LOGGING=false
ENABLE_PROFILING=false
SOURCE_MAPS=false
HOT_RELOAD=false
MOCK_EXTERNAL_APIS=false
BYPASS_AUTH=false

# =============================================================================
# CONTAINER & DEPLOYMENT
# =============================================================================
DOCKER_NETWORK=echotune-network
CONTAINER_RESTART_POLICY=unless-stopped
CONTAINER_MEMORY_LIMIT=1g
CONTAINER_CPU_LIMIT=1.0
CLUSTER_MODE=false
WORKERS=auto
PM2_ENABLED=false
UPLOAD_MAX_SIZE=50mb
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,audio/mpeg,audio/wav,application/json
UPLOAD_PATH=/opt/echotune/uploads

# =============================================================================
# ADVANCED SECURITY
# =============================================================================
SESSION_COOKIE_MAX_AGE=86400000
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTP_ONLY=true
SESSION_COOKIE_SAME_SITE=strict
API_KEY_HEADER=X-API-Key
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d
BCRYPT_ROUNDS=12
USER_RATE_LIMIT_WINDOW_MS=3600000
USER_RATE_LIMIT_MAX_REQUESTS=1000
IP_WHITELIST=${IP_WHITELIST:-}
IP_BLACKLIST=${IP_BLACKLIST:-}

# =============================================================================
# BACKUP & MAINTENANCE
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESSION=true
BACKUP_PATH=/opt/echotune/backups
REMOTE_BACKUP=false
AWS_S3_BUCKET=${AWS_S3_BUCKET:-}
AWS_REGION=${AWS_REGION:-us-east-1}
AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID:-}
AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY:-}
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="EchoTune AI is temporarily unavailable for maintenance. Please try again shortly."

# =============================================================================
# FEATURE FLAGS
# =============================================================================
FEATURE_CHAT=true
FEATURE_RECOMMENDATIONS=true
FEATURE_PLAYLISTS=true
FEATURE_ANALYTICS=true
FEATURE_USER_PROFILES=true
FEATURE_VOICE_COMMANDS=false
FEATURE_SOCIAL_SHARING=false
FEATURE_COLLABORATIVE_PLAYLISTS=false
FEATURE_MOOD_DETECTION=false
FEATURE_MULTI_LANGUAGE=false
AB_TESTING_ENABLED=false
AB_TEST_PERCENTAGE=10

# =============================================================================
# PWA & MOBILE
# =============================================================================
PWA_ENABLED=true
PWA_NAME="EchoTune AI"
PWA_SHORT_NAME="EchoTune"
PWA_DESCRIPTION="AI-Powered Music Discovery Platform"
PWA_THEME_COLOR="#00d4aa"
PWA_BACKGROUND_COLOR="#1a1a1a"
MOBILE_OPTIMIZED=true
TOUCH_GESTURES=true
MOBILE_CACHE_SIZE=50mb

# =============================================================================
# UI/UX
# =============================================================================
DEFAULT_THEME=dark
ENABLE_THEME_SWITCHING=true
CUSTOM_BRANDING=true
ENABLE_ANIMATIONS=true
ANIMATION_DURATION=300
REDUCE_MOTION_SUPPORT=true
LAZY_LOADING=true

# =============================================================================
# ANALYTICS & TRACKING
# =============================================================================
USER_ANALYTICS=true
ANONYMOUS_ANALYTICS=true
GDPR_COMPLIANT=true
COOKIE_CONSENT=true
PERFORMANCE_TRACKING=true
ERROR_TRACKING=true
USER_BEHAVIOR_TRACKING=false

# =============================================================================
# INTERNATIONALIZATION
# =============================================================================
DEFAULT_LOCALE=en-US
SUPPORTED_LOCALES=en-US,es-ES,fr-FR,de-DE
TIMEZONE=UTC
DATE_FORMAT=YYYY-MM-DD
TIME_FORMAT=HH:mm:ss

# =============================================================================
# DIGITALOCEAN
# =============================================================================
DIGITALOCEAN_TOKEN=${DIGITALOCEAN_TOKEN:-}
DIGITALOCEAN_TOKEN_FALLBACK=${DIGITALOCEAN_TOKEN_FALLBACK:-}
DO_REGISTRY_USERNAME=${DO_REGISTRY_USERNAME:-}
DO_REGISTRY_TOKEN=${DO_REGISTRY_TOKEN:-}
DO_APP_NAME=echotune-ai
DO_REGION=nyc1

# OAuth callbacks
OAUTH_CALLBACK_LOCAL=http://localhost:3000/callback
OAUTH_CALLBACK_PRODUCTION=https://primosphere.studio/auth/callback
