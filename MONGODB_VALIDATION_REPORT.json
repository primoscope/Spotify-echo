{
  "timestamp": "2025-08-09T21:37:57.205Z",
  "connection": {
    "status": "success",
    "message": "Successfully connected to MongoDB cluster",
    "connectionString": "mongodb+srv://***:***@cluster0.ofnyuy.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0",
    "database": "echotune",
    "serverInfo": {
      "version": "8.0.12"
    }
  },
  "collections": {
    "echotune_chat_sessions": {
      "exists": true,
      "type": "collection"
    },
    "track_analytics": {
      "exists": true,
      "type": "collection"
    },
    "echotune_user_preferences": {
      "exists": true,
      "type": "collection"
    },
    "echotune_listening_history": {
      "exists": true,
      "type": "collection"
    },
    "feature_vectors": {
      "exists": true,
      "type": "collection"
    },
    "echotune_users": {
      "exists": true,
      "type": "collection"
    },
    "user_listening_profiles": {
      "exists": true,
      "type": "collection"
    },
    "echotune_playlists": {
      "exists": true,
      "type": "collection"
    },
    "echotune_recommendations": {
      "exists": true,
      "type": "collection"
    },
    "connection_test": {
      "exists": true,
      "type": "collection"
    },
    "echotune_analytics_events": {
      "exists": true,
      "type": "collection"
    },
    "genre_analytics": {
      "exists": true,
      "type": "collection"
    },
    "spotify_analytics": {
      "exists": true,
      "type": "collection"
    },
    "enhanced_listening_history": {
      "exists": true,
      "type": "collection"
    },
    "mcp_validation_test": {
      "exists": true,
      "type": "collection"
    }
  },
  "dataValidation": {
    "spotify_analytics": {
      "exists": true,
      "documentCount": 43303,
      "sampleDocument": {
        "track_uri": "spotify:track:0iKO5hSuXarBIJhrSMyUBx",
        "track_id": "0iKO5hSuXarBIJhrSMyUBx",
        "track_name": "The Quiet Place",
        "artist_name": "In Flames",
        "album_name": "Soundtrack To Your Escape (Reissue 2014)",
        "artist_uri": "spotify:artist:57ylwQTnFnIhJh4nu4rxCs",
        "album_uri": "spotify:album:19ZIGYY1ZB3tPJ2b4sV3ll",
        "release_date": "2004-03-29",
        "duration_ms": 225026,
        "explicit": false,
        "popularity": 0,
        "preview_url": "https://p.scdn.co/mp3-preview/59f9840ef3f0621e3e51030e3cfe669cdc397437?cid=9950ac751e34487dbbe027c4fd7f8e99",
        "audio_features": {
          "danceability": 0.516,
          "energy": 0.971,
          "key": 10,
          "loudness": -4.867,
          "mode": 0,
          "speechiness": 0.219,
          "acousticness": 0.000341,
          "instrumentalness": 0.105,
          "liveness": 0.707,
          "valence": 0.08,
          "tempo": 104.757,
          "time_signature": 4
        },
        "genres": [
          "melodic death metal",
          "metal",
          "melodic metal",
          "death metal",
          "metalcore"
        ],
        "album_genres": [],
        "label": "Century Media",
        "isrc": "DED830370602",
        "listening_stats": {
          "total_plays": 17,
          "total_ms_played": 2341187,
          "unique_users": 1,
          "skip_rate": 0,
          "avg_completion_rate": 0.612004312181442,
          "platforms": {
            "Android OS 6.0.1 API 23 (samsung, SM-G930F)": 1,
            "Windows 10 (10.0.10586; x64)": 1,
            "Android OS 8.1.0 API 27 (OnePlus, ONEPLUS A5010)": 1,
            "Windows 10 (10.0.17134; x64)": 8,
            "Partner google cast_tv;Chromecast;;2.0.0-551-fb8ab0b--1.32.124602": 1,
            "Windows 10 (10.0.18362; x64)": 2,
            "Windows 10 (10.0.18362; x64; AppX)": 2,
            "Partner google cast_tv;Chromecast_Tv;;2.2.2-21161d7--1.42.172094": 1
          },
          "countries": {
            "SE": 15,
            "ZZ": 2
          },
          "first_played": "2019-08-16T17:25:16.000Z",
          "last_played": "2018-09-18T01:11:22.000Z"
        },
        "user_interactions": [
          {
            "user_id": "willexmen",
            "timestamp": "2016-06-23 05:07:53+00:00",
            "ms_played": 8620,
            "platform": "Android OS 6.0.1 API 23 (samsung, SM-G930F)",
            "skipped": false,
            "reason_start": "clickrow",
            "reason_end": "endplay"
          },
          {
            "user_id": "willexmen",
            "timestamp": "2016-09-29 23:56:30+00:00",
            "ms_played": 66180,
            "platform": "Windows 10 (10.0.10586; x64)",
            "skipped": false,
            "reason_start": "clickrow",
            "reason_end": "endplay"
          },
          {
            "user_id": "willexmen",
            "timestamp": "2018-08-25 21:37:31+00:00",
            "ms_played": 225026,
            "platform": "Android OS 8.1.0 API 27 (OnePlus, ONEPLUS A5010)",
            "skipped": false,
            "reason_start": "trackdone",
            "reason_end": "trackdone"
          },
          {
            "user_id": "willexmen",
            "timestamp": "2018-08-27 14:05:52+00:00",
            "ms_played": 225026,
            "platform": "Windows 10 (10.0.17134; x64)",
            "skipped": false,
            "reason_start": "trackdone",
            "reason_end": "trackdone"
          },
          {
            "user_id": "willexmen",
            "timestamp": "2018-09-02 15:47:55+00:00",
            "ms_played": 132182,
            "platform": "Partner google cast_tv;Chromecast;;2.0.0-551-fb8ab0b--1.32.124602",
            "skipped": false,
            "reason_start": "clickrow",
            "reason_end": "endplay"
          },
          {
            "user_id": "willexmen",
            "timestamp": "2018-09-14 16:02:10+00:00",
            "ms_played": 225026,
            "platform": "Windows 10 (10.0.17134; x64)",
            "skipped": false,
            "reason_start": "trackdone",
            "reason_end": "trackdone"
          },
          {
            "user_id": "willexmen",
            "timestamp": "2018-09-18 01:11:22+00:00",
            "ms_played": 225026,
            "platform": "Windows 10 (10.0.17134; x64)",
            "skipped": false,
            "reason_start": "trackdone",
            "reason_end": "trackdone"
          },
          {
            "user_id": "willexmen",
            "timestamp": "2018-09-28 17:45:31+00:00",
            "ms_played": 225026,
            "platform": "Windows 10 (10.0.17134; x64)",
            "skipped": false,
            "reason_start": "trackdone",
            "reason_end": "trackdone"
          },
          {
            "user_id": "willexmen",
            "timestamp": "2018-09-28 17:45:31+00:00",
            "ms_played": 105706,
            "platform": "Windows 10 (10.0.17134; x64)",
            "skipped": false,
            "reason_start": "trackdone",
            "reason_end": "endplay"
          },
          {
            "user_id": "willexmen",
            "timestamp": "2018-12-15 03:00:57+00:00",
            "ms_played": 225026,
            "platform": "Windows 10 (10.0.17134; x64)",
            "skipped": false,
            "reason_start": "trackdone",
            "reason_end": "trackdone"
          },
          {
            "user_id": "willexmen",
            "timestamp": "2019-06-21 17:39:17+00:00",
            "ms_played": 1450,
            "platform": "Windows 10 (10.0.17134; x64)",
            "skipped": false,
            "reason_start": "fwdbtn",
            "reason_end": "fwdbtn"
          },
          {
            "user_id": "willexmen",
            "timestamp": "2019-08-08 15:42:09+00:00",
            "ms_played": 740,
            "platform": "Windows 10 (10.0.17134; x64)",
            "skipped": false,
            "reason_start": "fwdbtn",
            "reason_end": "fwdbtn"
          },
          {
            "user_id": "willexmen",
            "timestamp": "2019-08-16 17:25:16+00:00",
            "ms_played": 170,
            "platform": "Windows 10 (10.0.18362; x64)",
            "skipped": false,
            "reason_start": "fwdbtn",
            "reason_end": "fwdbtn"
          },
          {
            "user_id": "willexmen",
            "timestamp": "2019-09-21 11:56:26+00:00",
            "ms_played": 225026,
            "platform": "Windows 10 (10.0.18362; x64; AppX)",
            "skipped": false,
            "reason_start": "trackdone",
            "reason_end": "trackdone"
          },
          {
            "user_id": "willexmen",
            "timestamp": "2019-09-21 11:56:47+00:00",
            "ms_played": 225026,
            "platform": "Windows 10 (10.0.18362; x64; AppX)",
            "skipped": false,
            "reason_start": "trackdone",
            "reason_end": "trackdone"
          },
          {
            "user_id": "willexmen",
            "timestamp": "2019-09-30 12:18:02+00:00",
            "ms_played": 1250,
            "platform": "Windows 10 (10.0.18362; x64)",
            "skipped": false,
            "reason_start": "fwdbtn",
            "reason_end": "fwdbtn"
          },
          {
            "user_id": "willexmen",
            "timestamp": "2019-11-07 10:11:07+00:00",
            "ms_played": 224681,
            "platform": "Partner google cast_tv;Chromecast_Tv;;2.2.2-21161d7--1.42.172094",
            "skipped": false,
            "reason_start": "clickrow",
            "reason_end": "trackdone"
          }
        ],
        "data_quality_score": 100,
        "has_audio_features": true,
        "has_listening_data": true,
        "created_at": "2025-08-07T06:28:33.291Z",
        "updated_at": "2025-08-07T06:28:33.291Z",
        "feature_vector": {
          "normalized": [
            0.524390243902439,
            0.971,
            0.2267080745341615,
            0.0003423694779116466,
            0.105,
            0.7098393574297188,
            0.08064516129032258,
            0.9050065659881812,
            0.47651473799126637,
            0.9090909090909091,
            0
          ],
          "mood_vector": [
            0.08064516129032258,
            0.971,
            0.524390243902439
          ],
          "genre_indicators": [
            0.0003423694779116466,
            0.105,
            0.2267080745341615,
            0.7098393574297188
          ],
          "raw_features": {
            "danceability": 0.516,
            "energy": 0.971,
            "key": 10,
            "loudness": -4.867,
            "mode": 0,
            "speechiness": 0.219,
            "acousticness": 0.000341,
            "instrumentalness": 0.105,
            "liveness": 0.707,
            "valence": 0.08,
            "tempo": 104.757,
            "time_signature": 4
          },
          "created_at": "2025-08-07T08:29:13.488Z",
          "version": "1.0"
        },
        "feature_vector_updated_at": "2025-08-07T08:29:13.488Z",
        "ml_ready": true
      },
      "indexes": [
        {
          "name": "_id_",
          "key": {
            "_id": 1
          },
          "unique": false
        },
        {
          "name": "track_name_1",
          "key": {
            "track_name": 1
          },
          "unique": false
        },
        {
          "name": "artist_name_1",
          "key": {
            "artist_name": 1
          },
          "unique": false
        },
        {
          "name": "user_id_1_played_at_-1",
          "key": {
            "user_id": 1,
            "played_at": -1
          },
          "unique": false
        },
        {
          "name": "played_at_-1",
          "key": {
            "played_at": -1
          },
          "unique": false
        },
        {
          "name": "track_uri_1",
          "key": {
            "track_uri": 1
          },
          "unique": false
        },
        {
          "name": "source_collection_1",
          "key": {
            "source_collection": 1
          },
          "unique": false
        },
        {
          "name": "audio_features.energy_1_audio_features.valence_1",
          "key": {
            "audio_features.energy": 1,
            "audio_features.valence": 1
          },
          "unique": false
        },
        {
          "name": "data_quality_score_-1",
          "key": {
            "data_quality_score": -1
          },
          "unique": false
        },
        {
          "name": "track_id_idx",
          "key": {
            "track_id": 1
          },
          "unique": false
        },
        {
          "name": "popularity_idx",
          "key": {
            "listening_stats.total_plays": -1
          },
          "unique": false
        },
        {
          "name": "danceability_idx",
          "key": {
            "audio_features.danceability": 1
          },
          "unique": false
        },
        {
          "name": "energy_idx",
          "key": {
            "audio_features.energy": 1
          },
          "unique": false
        },
        {
          "name": "valence_idx",
          "key": {
            "audio_features.valence": 1
          },
          "unique": false
        },
        {
          "name": "genres_idx",
          "key": {
            "genres": 1
          },
          "unique": false
        },
        {
          "name": "data_completeness_idx",
          "key": {
            "has_audio_features": 1,
            "has_listening_data": 1
          },
          "unique": false
        },
        {
          "name": "created_at_idx",
          "key": {
            "created_at": -1
          },
          "unique": false
        },
        {
          "name": "mood_idx",
          "key": {
            "audio_features.valence": 1,
            "audio_features.energy": 1
          },
          "unique": false
        },
        {
          "name": "dance_tempo_idx",
          "key": {
            "audio_features.danceability": 1,
            "audio_features.tempo": 1
          },
          "unique": false
        },
        {
          "name": "acoustic_instrumental_idx",
          "key": {
            "audio_features.acousticness": 1,
            "audio_features.instrumentalness": 1
          },
          "unique": false
        },
        {
          "name": "popularity_mood_idx",
          "key": {
            "listening_stats.total_plays": -1,
            "audio_features.valence": 1
          },
          "unique": false
        },
        {
          "name": "skip_quality_idx",
          "key": {
            "listening_stats.skip_rate": 1,
            "data_quality_score": -1
          },
          "unique": false
        },
        {
          "name": "genre_energy_idx",
          "key": {
            "genres": 1,
            "audio_features.energy": 1
          },
          "unique": false
        },
        {
          "name": "artist_mood_idx",
          "key": {
            "artist_name": 1,
            "audio_features.valence": 1
          },
          "unique": false
        },
        {
          "name": "recent_activity_idx",
          "key": {
            "listening_stats.last_played": -1,
            "has_audio_features": 1
          },
          "unique": false
        },
        {
          "name": "freshness_quality_idx",
          "key": {
            "updated_at": -1,
            "data_quality_score": -1
          },
          "unique": false
        },
        {
          "name": "recommendation_vector_idx",
          "key": {
            "audio_features.danceability": 1,
            "audio_features.energy": 1,
            "audio_features.valence": 1
          },
          "unique": false
        },
        {
          "name": "feature_vector.normalized_1",
          "key": {
            "feature_vector.normalized": 1
          },
          "unique": false
        },
        {
          "name": "feature_vector.mood_vector_1",
          "key": {
            "feature_vector.mood_vector": 1
          },
          "unique": false
        },
        {
          "name": "feature_vector.genre_indicators_1",
          "key": {
            "feature_vector.genre_indicators": 1
          },
          "unique": false
        },
        {
          "name": "ml_ready_1_audio_features.valence_1",
          "key": {
            "ml_ready": 1,
            "audio_features.valence": 1
          },
          "unique": false
        },
        {
          "name": "ml_ready_1_audio_features.energy_1",
          "key": {
            "ml_ready": 1,
            "audio_features.energy": 1
          },
          "unique": false
        },
        {
          "name": "ml_ready_1_audio_features.danceability_1",
          "key": {
            "ml_ready": 1,
            "audio_features.danceability": 1
          },
          "unique": false
        },
        {
          "name": "ml_ready_1_artist_name_1",
          "key": {
            "ml_ready": 1,
            "artist_name": 1
          },
          "unique": false
        },
        {
          "name": "feature_vector.created_at_-1",
          "key": {
            "feature_vector.created_at": -1
          },
          "unique": false
        }
      ],
      "dataQuality": {
        "hasRequiredFields": true,
        "fieldTypes": {
          "track_name": "string",
          "artist_name": "string",
          "album_name": "string",
          "track_uri": "string",
          "duration_ms": "number"
        },
        "uniqueValues": {
          "artists": 16376,
          "tracks": 34609
        },
        "presentFields": [
          "_id",
          "track_uri",
          "track_id",
          "track_name",
          "artist_name",
          "album_name",
          "artist_uri",
          "album_uri",
          "release_date",
          "duration_ms",
          "explicit",
          "popularity",
          "preview_url",
          "audio_features",
          "genres",
          "album_genres",
          "label",
          "isrc",
          "listening_stats",
          "user_interactions",
          "data_quality_score",
          "has_audio_features",
          "has_listening_data",
          "created_at",
          "updated_at",
          "feature_vector",
          "feature_vector_updated_at",
          "ml_ready"
        ]
      },
      "storageStats": {
        "count": 43303,
        "size": 116734542,
        "storageSize": 179884032,
        "avgObjSize": 2695
      }
    },
    "collectionCounts": {
      "echotune_chat_sessions": 51,
      "track_analytics": 46276,
      "echotune_user_preferences": 1,
      "echotune_listening_history": 203090,
      "feature_vectors": 37358,
      "echotune_users": 0,
      "user_listening_profiles": 1,
      "echotune_playlists": 0,
      "echotune_recommendations": 0,
      "connection_test": 7,
      "echotune_analytics_events": 0,
      "genre_analytics": 5645,
      "spotify_analytics": 43303,
      "enhanced_listening_history": 233929,
      "mcp_validation_test": 4
    },
    "hasMostData": false
  },
  "recommendations": [
    {
      "priority": "medium",
      "issue": "spotify_analytics collection does not contain the most merged data",
      "action": "Consider merging data from enhanced_listening_history into spotify_analytics"
    }
  ],
  "overall": "success"
}